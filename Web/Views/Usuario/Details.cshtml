@model Infraestructure.Models.Usuario

@{ ViewBag.Title = "Detalles Usuario"; }

@{ Infraestructure.Models.Usuario UsuarioLogueado = (Infraestructure.Models.Usuario)Session["User"]; }



<style>
    .imagen {
        display: block;
        margin: 0 auto;
        max-width: 100%;
        width: 100%;
    }
</style>

<!-- Content Header (Page header) -->
<div class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h3>CONSULTAR USUARIO</h3>
            </div><!-- /.col -->
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="@Url.Action("Index","Home")">Inicio</a></li>
                    <li class="breadcrumb-item"><a href="@Url.Action("Index","Usuario")">Usuarios</a></li>
                    <li class="breadcrumb-item active">Detalles</li>
                </ol>
            </div><!-- /.col -->
        </div><!-- /.row -->
    </div><!-- /.container-fluid -->
</div>


<section class="content">
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">@Html.DisplayNameFor(model => model.NombreCompleto)</h3>
            <br />
            <h3> @Html.DisplayFor(model => model.NombreCompleto)</h3>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-12 row">
                    <div class="col-md-6">
                        @if (Model.Foto != null)
                        {
                            <!--Ekko Lightbox-->
                            <div class="col-md-8">
                                <a href="data:image/jpeg;charset=utf-8;base64,@Convert.ToBase64String(Model.Foto)" data-toggle="lightbox" data-title="Imagen de perfil">
                                    <!--Card image-->
                                    <img class="imagen mt-3 mb-3"
                                         src="data:image/jpeg;charset=utf-8;base64,@Convert.ToBase64String(Model.Foto)"
                                         alt="user image">
                                </a>
                            </div>
                        }
                        else
                        {
                            <div class="col-md-8 text-center">
                                <img src="https://via.placeholder.com/400/677585/FFFFFF.png?text=@Model.NombreCompleto"  class="imagen mt-3 mb-3" />
                                <br />
                                <span class="badge badge-secondary">Sin foto de perfil</span>
                            </div>
                        }
                    </div>

                    <div class="col-md-6 text-justify">


                        <div class="text-muted">
                            <p class="text-sm">
                                @Html.DisplayNameFor(model => model.Id)
                                <b class="d-block">@Html.DisplayFor(model => model.Id)</b>
                            </p>
                            <p class="text-sm">
                                @if (Model.Telefono != null)
                                {
                                    @Html.DisplayNameFor(model => model.Telefono)
                                    <b class="d-block">@Html.DisplayFor(model => model.Telefono)</b>}

                            </p>
                            <p class="text-sm">
                                @Html.DisplayNameFor(model => model.Correo)
                                <b class="d-block">@Html.DisplayFor(model => model.Correo)</b>
                            </p>
                            <p class="text-sm">
                                @Html.DisplayNameFor(model => model.Fecha_creacion)
                                <b class="d-block">@Html.DisplayFor(model => model.Fecha_creacion)</b>
                            </p>
                            <p class="text-sm">
                                @Html.DisplayNameFor(model => model.Estado)
                                @if (Model.Estado)
                                {
                                    <b class="d-block">Activo</b>
                                }
                                else
                                {
                                    <b class="d-block">Inactivo</b>
                                }
                            </p>
                            <p class="text-sm">
                                @Html.DisplayName("Rol")
                                <b class="d-block">@Html.DisplayFor(model => model.Rol.Descripcion)</b>
                            </p>
                        </div>
                    </div>
                </div>
                
            </div>
            <div style="float:right">

                <a class="btn btn-primary btn-sm mr-1" href="@Url.Action("Edit","Usuario", new { id = Model.Id })">
                    <i class="fas fa-pencil-alt">
                    </i>
                    Editar
                </a>

            </div>

        </div>
    </div>


</section>






@section scripts {

    <!-- Ekko Lightbox para imagen al abrir -->
    <script src="~/Content/plugins/ekko-lightbox/ekko-lightbox.min.js"></script>
    <script>
        $(function () {
            $(document).on('click', '[data-toggle="lightbox"]', function (event) {
                event.preventDefault();
                $(this).ekkoLightbox({
                    alwaysShowClose: true
                });
            });
        })
    </script>

    <script>
        //AQUI PARA PONER ACTIVO EL NAV-LINK, PONERSE EN CADA PAGINA
        $(document).ready(function () {
            $("#menuusuarios").addClass('active');
        });</script>
}